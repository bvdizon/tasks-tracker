(this["webpackJsonpreact---admin-v2"]=this["webpackJsonpreact---admin-v2"]||[]).push([[0],{25:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(1),s=c.n(a),i=c(26),r=c.n(i),l=c(16),j=c(4),d=(c(34),c(35),function(){return Object(n.jsx)("header",{className:"header",children:Object(n.jsxs)("nav",{className:"main-nav container",children:[Object(n.jsx)("div",{className:"logo",children:"Admin Team"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/",children:"Tasks"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/search",children:"Search"})}),Object(n.jsx)("li",{children:Object(n.jsx)(l.b,{to:"/templates",children:"Templates"})})]})]})})}),o=c(6),u=c(12),b=c(18);c(24);b.a.initializeApp({apiKey:"AIzaSyCMR-h04L3I71W3IOxq7af3r-_uhES-EM8",authDomain:"the-group---tasks-tracker.firebaseapp.com",databaseURL:"https://the-group---tasks-tracker.firebaseio.com",projectId:"the-group---tasks-tracker",storageBucket:"the-group---tasks-tracker.appspot.com",messagingSenderId:"1013793128046",appId:"1:1013793128046:web:7920ad7ec0bb2a3e2f707f"});var h=b.a.firestore(),O=Object(a.createContext)(),x=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(o.a)(c,2),i=s[0],r=s[1],l=Object(a.useState)([]),j=Object(o.a)(l,2),d=j[0],b=j[1];function x(){h.collection("tasks").orderBy("date","desc").limit(9).onSnapshot((function(e){var t=[];e.docs.forEach((function(e){return t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),r(t)}))}return Object(a.useEffect)((function(){x()}),[]),console.log(i),Object(a.useEffect)((function(){return x()}),[]),console.log(),Object(n.jsx)(O.Provider,{value:{tasks:i,getSearch:function(e){var t=new Date(e.date);h.collection("tasks").where("activity","==",e.activity).where("owner","==",e.owner).where("date",">=",t).get().then((function(e){var t=[];e.docs.forEach((function(e){return t.push(Object(u.a)(Object(u.a)({},e.data()),{},{id:e.id}))})),b(t)}))},searches:d,addTask:function(e){h.collection("tasks").add(e)},deleteTask:function(e){h.collection("tasks").doc(e).delete()}},children:t})},m=(c(25),Object(a.createContext)()),f=function(e){var t=e.children,c=Object(a.useState)([{id:1,name:"Admin Team"},{id:2,name:"Chris Duffy"},{id:3,name:"Christopher Audette"},{id:4,name:"Frank Liu"},{id:5,name:"Jen Johnson"},{id:6,name:"Maria Shettler"},{id:7,name:"May D, Curtis K."},{id:8,name:"Mike Litorco"},{id:9,name:"Sarah Walczak"},{id:10,name:"Will Vo"},{id:11,name:"Referral Agent"}]),s=Object(o.a)(c,2),i=s[0];s[1];return Object(n.jsx)(m.Provider,{value:{agents:i},children:t})},p=Object(a.createContext)(),v=function(e){var t=e.children,c=Object(a.useState)([{id:1,title:"Ad-hoc Task"},{id:2,title:"Conveyancing"},{id:3,title:"Filing - Expenses"},{id:4,title:"Filing - Income"},{id:5,title:"Leads Management"},{id:6,title:"Leads Management - ISA"},{id:7,title:"Listing Emails"},{id:8,title:"Listing Task"},{id:9,title:"New Deal - Agent Double-Ender"},{id:10,title:"New Deal - Buyer Side"},{id:12,title:"New Deal - Referral"},{id:13,title:"New Deal - Seller Side"},{id:14,title:"New Listing"},{id:15,title:"Reports"},{id:16,title:"Review Request Email"},{id:17,title:"Social Media Task"}]),s=Object(o.a)(c,2),i=s[0];s[1];return Object(n.jsx)(p.Provider,{value:{activities:i},children:t})},g=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),l=r[0],j=r[1],d=Object(a.useState)(""),u=Object(o.a)(d,2),h=u[0],x=u[1],f=Object(a.useContext)(O).addTask,v=Object(a.useContext)(m).agents,g=Object(a.useContext)(p).activities;return Object(n.jsx)("section",{className:"container",children:Object(n.jsxs)("form",{className:"container add-form py-sm",onSubmit:function(e){e.preventDefault();var t={date:b.a.firestore.FieldValue.serverTimestamp(),activity:c,notes:l,owner:h};f(t),s(""),j(""),x("")},children:[Object(n.jsxs)("select",{name:"activity",required:!0,onChange:function(e){return s(e.target.value)},value:c,children:[Object(n.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Activity"}),g.map((function(e){return Object(n.jsx)("option",{value:e.title,children:e.title},e.id)}))]}),Object(n.jsx)("input",{type:"text",name:"notes",placeholder:"Add notes",onChange:function(e){return j(e.target.value)},value:l,required:!0}),Object(n.jsxs)("select",{name:"owner",required:!0,onChange:function(e){return x(e.target.value)},value:h,children:[Object(n.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Owner"}),v.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.id)}))]}),Object(n.jsx)("input",{type:"submit",value:"Add this task",className:"btn btn-accent"})]})})},k=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1],i=Object(a.useState)(""),r=Object(o.a)(i,2),l=r[0],j=r[1],d=Object(a.useState)(""),u=Object(o.a)(d,2),b=u[0],h=u[1],x=Object(a.useContext)(O).getSearch,f=Object(a.useContext)(m).agents,v=Object(a.useContext)(p).activities;return Object(n.jsx)("section",{className:"container",children:Object(n.jsxs)("form",{className:"container add-form py-sm search-form",onSubmit:function(e){e.preventDefault(),x({date:l,activity:c,owner:b})},children:[Object(n.jsxs)("select",{name:"activity",required:!0,onChange:function(e){return s(e.target.value)},value:c,children:[Object(n.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Activity"}),v.map((function(e){return Object(n.jsx)("option",{value:e.title,children:e.title},e.id)}))]}),Object(n.jsx)("input",{type:"date",name:"notes",placeholder:"Add notes",onChange:function(e){return j(e.target.value)},value:l,required:!0}),Object(n.jsxs)("select",{name:"owner",required:!0,onChange:function(e){return h(e.target.value)},value:b,children:[Object(n.jsx)("option",{value:"",disabled:!0,defaultValue:!0,children:"Owner"}),f.map((function(e){return Object(n.jsx)("option",{value:e.name,children:e.name},e.id)}))]}),Object(n.jsx)("input",{type:"submit",value:"Search Tasks",className:"btn btn-accent"})]})})},N=c(28),y=function(e){var t=e.task,c=Object(a.useContext)(O).deleteTask,s=t.owner,i=t.notes,r=t.activity,l=t.date,j=t.id;return Object(n.jsxs)(N.a.li,{layout:!0,className:"task-item",children:[Object(n.jsxs)("div",{className:"task-item__head",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"fas fa-user"})," ",Object(n.jsx)("span",{children:s})]}),Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"fas fa-running"})," ",Object(n.jsx)("span",{children:r})]})]}),Object(n.jsx)("div",{className:"task-item__body",children:Object(n.jsx)("p",{children:i})}),Object(n.jsxs)("div",{className:"task-item__foot",children:[Object(n.jsxs)("p",{children:[Object(n.jsx)("i",{className:"fas fa-calendar-check",style:{color:"black"}})," ","Created on: ",l&&l.toDate().toDateString()]}),Object(n.jsxs)("p",{class:"task-delete",onClick:function(){return c(j)},children:[Object(n.jsx)("i",{className:"fas fa-trash"})," Delete"]})]})]})},S=(c(45),function(){var e=Object(a.useContext)(O).tasks;return Object(n.jsxs)("div",{className:"container",children:[Object(n.jsxs)("h2",{className:"margin-y-sm",children:["Showing ",e.length," tasks..."]}),Object(n.jsx)("ul",{className:"task-list",children:e.length>0?e.map((function(e){return Object(n.jsx)(y,{task:e},e.id)})):Object(n.jsx)("div",{children:"Oops. No tasks found."})})]})}),w=function(e){var t=e.date,c=e.notes,a=e.activity,s=e.owner,i=new Date(1e3*t.seconds);return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t&&i.toDateString()}),Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:s})]})},C=(c(46),function(){var e=Object(a.useContext)(O).searches;return console.log(e.length),Object(n.jsxs)("div",{className:"container",children:[e.length>0&&Object(n.jsxs)("h1",{className:"margin-y-sm",children:["You've got ",e.length," results..."]}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{className:"thead-dark",children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Date"}),Object(n.jsx)("th",{scope:"col",children:"Activity"}),Object(n.jsx)("th",{scope:"col",children:"Note"}),Object(n.jsx)("th",{scope:"col",children:"Owner"})]})}),Object(n.jsx)("tbody",{children:e.length>0&&e.map((function(e){return Object(a.createElement)(w,Object(u.a)(Object(u.a)({},e),{},{key:e.id}))}))})]})]})}),D=function(){return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("h1",{children:"From Templates.js"})})};var A=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(x,{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(d,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",render:function(e){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(f,{children:Object(n.jsx)(v,{children:Object(n.jsx)(g,{})})}),Object(n.jsx)(S,{})]})}}),Object(n.jsx)(j.a,{path:"/search",render:function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)(f,{children:Object(n.jsx)(v,{children:Object(n.jsx)(k,{})})}),Object(n.jsx)(C,{})]})}}),Object(n.jsx)(j.a,{path:"/templates",component:D})]})]})})})};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(A,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.5a1366de.chunk.js.map